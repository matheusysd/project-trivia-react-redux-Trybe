(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{117:function(e,t){e.exports="data:image/png;base64,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"},120:function(e,t,n){e.exports=n(242)},129:function(e,t,n){},135:function(e,t){},137:function(e,t){},171:function(e,t){},172:function(e,t){},238:function(e,t,n){},239:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(44),o=n.n(c),i=n(15),s=(n(129),n(9)),l=n(23),u=n(46),m=n(47),d=n(48),E=n(50),b=n(49),g=n(19),p=n(51),f=n(115),h=function(e){var t=e.name,n=e.onChange,a=e.dataTestId;return r.a.createElement("input",{className:"form-control",type:"text","data-testid":a,onChange:function(e){return n(e.target)},name:t,required:!0,placeholder:"Insira seu ".concat(t)})},v=function(e){var t=e.texto,n=e.onClick,a=e.dataTestId,c=e.condition,o=e.show,i=void 0===o||o,l=e.renderLink,u=void 0!==l&&l,m=e.nameClass,d=e.type,E=void 0===d?"button":d;return i?r.a.createElement("div",null,!u&&r.a.createElement("button",{className:m,"data-testid":a,disabled:c,onClick:n?function(){return n()}:null,type:E},t),u&&r.a.createElement(s.b,{"data-testid":"btn-next",to:"/feedback",className:"text-decoration-none"},r.a.createElement("button",{className:"btn btn-lg btn-success btn-block",type:"button"},"PR\xd3XIMA"))):null};v.defaultProps={onClick:null,condition:!1,show:!0,renderLink:!1};var y=v,k=(n(238),n(117)),C=n.n(k);function O(){return function(e){return e({type:"REQUEST_CATEGORIES"}),fetch("https://opentdb.com/api_category.php").then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))})).then((function(t){return e({type:"RECEIVE_CATEGORIES",categories:t})}))}}function R(){return function(e){return e({type:"REQUEST_TOKEN"}),fetch("https://opentdb.com/api_token.php?command=request").then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))})).then((function(t){return e({type:"RECEIVE_TOKEN",token:t.token})}))}}function T(e,t,n){return function(a){return a({type:"REQUEST_TRIVIA"}),function(e,t,n){return fetch("https://opentdb.com/api.php?amount=5&category=".concat(e,"&difficulty=").concat(t,"&type=").concat(n,"&encode=url3986&token=")).then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))}))}(e,t,n).then((function(e){return a({type:"RECEIVE_TRIVIA",trivia:e.results})}))}}var I=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={nome:"",email:""},n.changeHandler=n.changeHandler.bind(Object(g.a)(n)),n.getData=n.getData.bind(Object(g.a)(n)),n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.title="TrybeTrivia";var e=this.props,t=e.getCategories;1===e.categories.length&&t()}},{key:"getData",value:function(){var e=this.props.saveData,t=this.state,n=t.nome,a=t.email;e(n,Object(f.MD5)(a).toString())}},{key:"changeHandler",value:function(e){var t=e.name,n=e.value;this.setState(Object(u.a)({},t,n))}},{key:"render",value:function(){var e=this.state,t=e.nome,n=e.email;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{"data-testid":"",className:"form-signin"},r.a.createElement("img",{src:C.a,className:"mb-4",alt:"Trybe logo"}),r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Fa\xe7a seu login"),r.a.createElement(h,{name:"nome",onChange:this.changeHandler,dataTestId:"input-player-name"}),r.a.createElement(h,{name:"email",onChange:this.changeHandler,dataTestId:"input-gravatar-email"}),r.a.createElement(s.b,{to:"/game",className:"text-decoration-none"},r.a.createElement(y,{nameClass:"btn btn-lg btn-success btn-block",texto:"Jogar",dataTestId:"btn-play",onClick:this.getData,condition:!t||!n,type:"submit"})),r.a.createElement(s.b,{to:"/settings",className:"text-decoration-none"},r.a.createElement(y,{texto:"Configuracoes",dataTestId:"btn-settings",nameClass:"btn btn-lg btn-secondary btn-block"})),r.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"Desenvolvido por ",r.a.createElement("a",{href:"https://www.linkedin.com/in/matheusysd/"},"Matheus Domingos"),".")))}}]),t}(a.Component),A=Object(i.b)((function(e){return{categories:e.dataReducer.categories}}),(function(e){return{saveData:function(t,n){return e(function(e,t){return{type:"PLAYER_DATA",name:e,email:t}}(t,n))},getCategories:function(){return e(O())}}}))(I),N=Object(i.b)((function(e){return{nome:e.userReducer.name,imagem:e.userReducer.gravatarEmail,pontos:e.userReducer.score}}))((function(e){var t=e.nome,n=e.imagem,a=e.pontos;return r.a.createElement("div",{className:"fixed-top row profile d-flex align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:"https://www.gravatar.com/avatar/".concat(n),alt:"avatar do jogador",width:"72","data-testid":"header-profile-picture"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("span",{"data-testid":"header-player-name"},t," ")),r.a.createElement("div",{className:"col"},r.a.createElement("span",{"data-testid":"header-score"},"Pontos: ",a," ")))})),j=function(e){if(!e.currQuestion)return r.a.createElement("div",null,"Loading...");var t=e.currQuestion,n=t.category,a=t.question,c=decodeURIComponent(a),o=decodeURIComponent(n);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{"data-testid":"question-category"},"Categoria: ",o),r.a.createElement("div",{"data-testid":"question-text"},c))},x=function(e){var t=e.correctAnswer,n=e.incorrectAnswers,a=e.condition,c=e.onClick,o=e.difficulty,i=decodeURIComponent(t);return r.a.createElement("div",null,r.a.createElement("button",{type:"button","data-testid":"correct-answer",style:a?{border:"3px solid rgb(6, 240, 15)"}:null,className:"btn btn-lg btn-secondary btn-block",onClick:function(){return c(!0,o)},disabled:a},i),n.map((function(e,t){return r.a.createElement("button",{type:"button",key:e,"data-testid":"wrong-answer-".concat(t),className:"btn btn-lg btn-secondary btn-block",style:a?{border:"3px solid rgb(255, 0, 0)"}:null,onClick:function(){return c(!1)},disabled:a},decodeURIComponent(e))})))},S=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={timer:30,index:0,click:!1,renderLink:!1},n.incrementQuestionIndex=n.incrementQuestionIndex.bind(Object(g.a)(n)),n.clickouNoBotao=n.clickouNoBotao.bind(Object(g.a)(n)),n.playTimer=n.playTimer.bind(Object(g.a)(n)),n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getToken,n=e.getTrivia,a=e.category,r=e.difficulty,c=e.type;t(),n(a,r,c),this.playTimer()}},{key:"componentDidUpdate",value:function(){0===this.state.timer&&clearInterval(this.myInterval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval)}},{key:"playTimer",value:function(){var e=this;this.myInterval=setInterval((function(){e.setState((function(e){return{timer:e.timer-1}}))}),1e3)}},{key:"clickouNoBotao",value:function(e,t){var n=this.props.addScore;this.setState({click:!0});var a=this.state.timer;!0===e&&"easy"===t&&n(10+1*a),!0===e&&"medium"===t&&n(10+2*a),!0===e&&"hard"===t&&n(10+3*a)}},{key:"incrementQuestionIndex",value:function(){clearInterval(this.myInterval);var e=this.state.index;this.setState({index:e+1,click:!1,timer:30}),3===e&&this.setState({renderLink:!0}),this.playTimer()}},{key:"render",value:function(){var e=this.props.questions,t=this.state,n=t.index,a=t.click,c=t.renderLink,o=t.timer;return e[n]?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",null,"TEMPO: ",o),r.a.createElement(j,{currQuestion:e[n]}),r.a.createElement("div",{className:"container"},r.a.createElement(x,{correctAnswer:e[n].correct_answer,incorrectAnswers:e[n].incorrect_answers,condition:a||0===o,onClick:this.clickouNoBotao,difficulty:e[n].difficulty}),r.a.createElement(y,{nameClass:"btn btn-lg btn-success btn-block",show:a||0===o,texto:"PR\xd3XIMA",onClick:this.incrementQuestionIndex,dataTestId:"btn-next",renderLink:c})))):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),Q=Object(i.b)((function(e){return{questions:e.dataReducer.trivia,category:e.dataReducer.selectedCategory,difficulty:e.dataReducer.selectedDifficulty,type:e.dataReducer.selectedType}}),(function(e){return{getToken:function(){return e(R())},getTrivia:function(t,n,a){return e(T(t,n,a))},addScore:function(t){return e(function(e){return{type:"CORRECT_ANSWER",score:e}}(t))}}}))(S),w=Object(i.b)((function(e){return{categories:e.dataReducer.categories}}),(function(e){return{getCategory:function(t){return e({type:"SELECT_CATEGORY",category:t})},getDifficulty:function(t){return e({type:"SELECT_DIFFICULTY",difficulty:t})},getType:function(t){return e({type:"SELECT_TYPE",typeQ:t})}}}))((function(e){var t=e.categories,n=e.getDifficulty,a=e.getCategory,c=e.getType;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{"data-testid":"settings-title"},"Settings"),r.a.createElement("div",{className:"container"},r.a.createElement("select",{id:"category",className:"form-control",onChange:function(e){return a(e.target.value)}},t.map((function(e){var t=e.name,n=e.id;return r.a.createElement("option",{key:t,value:n},t)}))),r.a.createElement("select",{className:"form-control",onChange:function(e){return n(e.target.value)}},r.a.createElement("option",{value:""},"Any Difficulty"),r.a.createElement("option",{value:"easy"},"Easy"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"hard"},"Hard")),r.a.createElement("select",{className:"form-control",onChange:function(e){return c(e.target.value)}},r.a.createElement("option",{value:""},"Any Type"),r.a.createElement("option",{value:"multiple"},"Multiple choice"),r.a.createElement("option",{value:"boolean"},"True/False")),r.a.createElement(s.b,{to:"/",className:"text-decoration-none"},r.a.createElement("button",{className:"btn btn-lg btn-success btn-block",type:"button"},"Home"))))})),D=Object(i.b)((function(e){return{pontuacao:e.userReducer.score,acertos:e.userReducer.assertions}}))((function(e){var t=e.pontuacao,n=e.acertos;return r.a.createElement("div",{className:"container"},r.a.createElement(N,null),r.a.createElement("h1",{"data-testid":"feedback-text"},n>=3?"Mandou bem!":"N\xe3o desanime! Tente novamente  !"),n>0?r.a.createElement("p",{"data-testid":"feedback-total-question"},"Voc\xea acertou ".concat(n," ").concat(n>1?"quest\xf5es":"quest\xe3o",".")):r.a.createElement("p",{"data-testid":"feedback-total-question"},"Voc\xea n\xe3o acertou nenhuma quest\xe3o."),r.a.createElement("p",{"data-testid":"feedback-total-score"},"Voc\xea fez ".concat(t," pontos.")),r.a.createElement(s.b,{to:"/",className:"text-decoration-none"},r.a.createElement(y,{texto:"Jogar Novamente",dataTestId:"btn-play-again",nameClass:"btn btn-lg btn-success btn-block"})),r.a.createElement(s.b,{to:"/ranking",className:"text-decoration-none"},r.a.createElement(y,{texto:"Ver Ranking",dataTestId:"btn-ranking",nameClass:"btn btn-lg btn-secondary btn-block"})))})),Y=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{"data-testid":"ranking-title"},"Ranking:"),r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{to:"/"},r.a.createElement(y,{texto:"Jogar",dataTestId:"btn-go-home",nameClass:"btn btn-lg btn-success btn-block"}))))};n(239);n(240),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(22),B=n(118),L=n(119),J=n(74),F=n(8),M=function(e,t){localStorage[e]||(localStorage[e]=JSON.stringify([]));var n=t;localStorage[e]=JSON.stringify(n)},P={isFetching:!1,token:{},trivia:{},categories:[{id:"",name:"Any Category"}],selectedCategory:"",selectedType:"",selectedDifficulty:""},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TOKEN":return Object(F.a)({},e,{isFetching:!0});case"RECEIVE_TOKEN":return M("token",t.token),Object(F.a)({},e,{token:t.token,isFetching:!1});case"REQUEST_TRIVIA":return Object(F.a)({},e,{isFetching:!0});case"RECEIVE_TRIVIA":return Object(F.a)({},e,{isFetching:!1,trivia:t.trivia});case"REQUEST_CATEGORIES":return Object(F.a)({},e,{isFetching:!0});case"RECEIVE_CATEGORIES":return Object(F.a)({},e,{isFetching:!1,categories:[].concat(Object(J.a)(e.categories),Object(J.a)(t.categories.trivia_categories))});case"SELECT_CATEGORY":return Object(F.a)({},e,{selectedCategory:t.category});case"SELECT_DIFFICULTY":return Object(F.a)({},e,{selectedDifficulty:t.difficulty});case"SELECT_TYPE":return Object(F.a)({},e,{selectedType:t.typeQ});default:return e}},X={name:"",assertions:0,score:0,gravatarEmail:""},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYER_DATA":return M("state",{player:Object(F.a)({},e,{name:t.name,gravatarEmail:t.email})}),Object(F.a)({},e,{name:t.name,gravatarEmail:t.email,score:0});case"CORRECT_ANSWER":return M("state",{player:Object(F.a)({},e,{score:e.score+t.score,assertions:e.assertions+1})}),Object(F.a)({},e,{score:e.score+t.score,assertions:e.assertions+1});default:return e}},G=Object(U.combineReducers)({dataReducer:V,userReducer:q}),W=Object(U.createStore)(G,Object(B.composeWithDevTools)(Object(U.applyMiddleware)(L.a)));n(241);o.a.render(r.a.createElement(i.a,{store:W},r.a.createElement((function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"text-center"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:A}),r.a.createElement(l.a,{exact:!0,path:"/game",component:Q}),r.a.createElement(l.a,{exact:!0,path:"/feedback",component:D}),r.a.createElement(l.a,{exact:!0,path:"/ranking",component:Y}),r.a.createElement(l.a,{exact:!0,path:"/settings",component:w}),r.a.createElement(l.a,{path:""}))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[120,1,2]]]);
//# sourceMappingURL=main.58b9fc62.chunk.js.map